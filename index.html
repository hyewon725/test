<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>미팅플레이스공유</title>
<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
</head>
<body>
  <div class="row text-center">
    <div class="col-12">
        <span>
            <span class="sociallink ml-1">
                <a href="javascript:sendLinkFacebook()" title="페이스북으로 공유">
                    <img src="/static/images/facebook.png" width=36 alt="Facebook">
                </a>
            </span>
            <span class="sociallink ml-1">
                <a href="javascript:sendLinkTwitter()" title="트위터로 공유">
                    <img src="/static/images/twitter.png" width=36 alt="Twitter">
                </a>
            </span>
            <span class="sociallink ml-1">
                <a href="javascript:sendLinkNaver()" title="네이버로 공유">
                    <img src="/static/images/naver.png" width=36 alt="Naver">
                </a>
            </span>
            <span class="sociallink ml-1">
                <a href="javascript:sendLinkKakao()" id="kakao-link-btn" title="카카오톡으로 공유">
                    <img src="/static/images/kakaotalk.png" width=36 alt="Kakaotalk">
                </a>
            </span>
            <span class="sociallink ml-1"><a href="#" target="_blank"><img src="/static/images/email-small.png" width=36 alt="Email"></a></span>
        </span>
    </div>
</div>
    <script>
// SNS 공유기능
function sendLinkFacebook(){
    var facebook_share_url = "https://www.facebook.com/sharer/sharer.php?u=http://www.windybay.net/post/6/";
    window.open(facebook_share_url, 
                'Share on Facebook', 
                'scrollbars=no, width=500, height=500');    
    // return false;
    // FireFox에서는 anchor tag에 걸린 함수에 명시된 return 값이 있으면 그 값을 string 으로 화면에 띄우는 버그(? 인지 의도된 동작인지?) 발생.
    // 즉 return false; 해놓으면 Facebook 걸려있는 anchor tag 클릭했을때 새 창이 뜨고 원래 창에는 흰 화면에 false 라고 글자가 표시된다.
    // 이를 방지하기 위해서 return false; 는 지워주었음
}

function sendLinkTwitter(){
    var twitter_share_text="블로그에 카카오톡 공유 버튼 만들기";
    var twitter_share_url="http://www.windybay.net/post/6/";
    window.open("https://twitter.com/share?text="+twitter_share_text+"&url="+twitter_share_url,
                'Share on Twitter',
                'scrollbars=no, width=500, height=500');
}

function sendLinkNaver(){
    var raw_url = "http://www.windybay.net/post/6/";
    var raw_title = "블로그에 카카오톡 공유 버튼 만들기"
    var naver_root_url = "http://share.naver.com/web/shareView.nhn?url="
    var naver_share_url = naver_root_url+encodeURI(raw_url)+"&title="+encodeURI(raw_title);

    window.open(naver_share_url,
                'Share on Naver',
                'scrollbars=no, width=500, height=500');    
}

// https://developers.kakao.com/docs/js/kakaotalklink
Kakao.init('19437fa2391c0eec6c9afb97dd3681ce');
function sendLinkKakao(){
    Kakao.Link.sendDefault({
      objectType: 'feed',
      content: {
        title: '블로그에 카카오톡 공유 버튼 만들기',
        description: '이전 글 - 블로그에 SNS 공유버튼 만들기 블로그에 post 공유용 SNS 만드는 방법을 정리해 본다. …',
        imageUrl: 'http://www.windybay.net/media/uploads/2020/02/15/image_caErdbJ_thumb146.png',
        link: {
          mobileWebUrl: 'http://www.windybay.net/post/6/',
          webUrl: 'http://www.windybay.net/post/6/'
        }
      },
      buttons: [        
        {
          title: '링크 열기',
          link: {
            mobileWebUrl: 'http://www.windybay.net/post/6/',
            webUrl: 'http://www.windybay.net/post/6/'
          }
        }
      ]
    });  
}
</script>
</body>
</html>
